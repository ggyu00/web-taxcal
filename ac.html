<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>취득세</title>
    <link rel="stylesheet" href="ac.css" />
  </head>
  <body>
    <header>
      <div>
        <h1><a href="cal.html">Tax Calculater</a></h1>
      </div>
      <nav>
        <ul id="topMenu">
          <li><a href="#">중개 보수</a></li>
          <li><a href="ac.html">취득세</a></li>
          <li><a href="#">양도세</a></li>
          <li><a href="#">증여세</a></li>
          <li><a href="#">문의하기</a></li>
          <li>
            <input
              type="text"
              id="search_"
              placeholder="검색어를 입력해주세요"
            />
            <input type="submit" value="검색" class="search_submit" />
          </li>
        </ul>
      </nav>
    </header>
    <main class="contents">
      <img src="../Cal/images/ac.png" alt="" />
      <fieldset>
        <p>주택 수를 선택해 주세요.</p>
        <input type="button" class="over" onclick="showDetail1(); num1();" value="1 주택자"></ㅑbutton>
        <input type="button" class="over" onclick="showDetail1(); num2();" value="2 주택자"></input>
        <input type="button" class="over" onclick="showDetail1(); num3();" value="3 주택자"></input>
        <input type="button" class="over" onclick="showDetail1(); num4()" value="4 주택자 이상">
        </input>
      </fieldset>

      <fieldset id="selec2" class="detail2">
        <p>조정 대상 지역 여부를 선택해 주세요.</p>
        <button class="over" id="open" onclick="showDetail2(); num11();">
          조정 대상 지역 O
        </button>
        <button class="over" id="open" onclick="showDetail2(); num22();">
          조정 대상 지역 X
        </button>
      </fieldset>

      <fieldset id="selec3" class="detail3">
        <p>전용 면적을 선택해 주세요.</p>
        <button class="over" id="open4" onclick="showDetail3(); num111();">85㎡ 미만</button>
        <button class="over" id="open4" onclick="showDetail3(); num222();">85㎡ 이상</button>
      </fieldset>

      <fieldset id="selec4" class="detail4">
        <p>취득 가액</p>
        <input id="name" onkeyup="print()" type="number" required />원
        <a href="#showResult"><input type="submit" onclick="total()" value="계산하기" /></a>
        <a href="ac.html"><input type="submit" value="취소하기" /></a>
        <p id="result"></p>
        <span id="showResult" class="total">취득세 : </span>
        <span id="totalResult" class="total"></span>
      </fieldset>
      
    </main>


    <script>
      function showDetail1() {
        document.querySelector('#selec2').style.display = 'block'; // 상세 설명 부분을 화면에 표시
      }
      function showDetail2() {
        document.querySelector('#selec3').style.display = 'block'; // 상세 설명 부분을 화면에 표시
      }
      function showDetail3() {
        document.querySelector('#selec4').style.display = 'block'; // 상세 설명 부분을 화면에 표시
      }

      var btn1 = 0;
      var btn2 = 0;
      var btn3 = 0;
      function num1() {
        btn1 = 1;
      }
      function num2() {
        btn1 = 2;
      }
      function num3() {
        btn1 = 3;
      }
      function num4() {
        btn1 = 4;
      }

      function num11() {
        btn2 = 1;
      }
      function num22() {
        btn2 = 2;
      }

      function num111() {
        btn3 = 1;
      }
      function num222() {
        btn3 = 2;
      }
      

      function total() {
        var won;
        won = document.getElementById("name").value;
        var total = 0;
        if(won <= 100000000) {
          btn1 = 1;
        }
        
        switch(btn1) {
          case 1:
            if (won <= 600000000) {
              total = (won * (1/100)) + (won * 1/1000);
              total = Math.round(total);
            }
            else if ((won > 600000000) && (won <= 900000000)) {
              total = ((won/100000000) * 2 / 3 -3);
              total = Math.round(total * 100) / 100;
              total = total + total * (1/10);
              total = (won * total) * (1/100);
              total = Math.round(total);
              
              
            }
            else if (won > 900000000) {
              total = (won * (3/100)) + (won * 3/1000);
              total = Math.round(total);
            }
            if(btn3 == 2) {
              total = total + (won * 2/1000);
            }
          case 2:
            if(btn2 == 1) {
              total = (won * (8/100)) + (won * (4/1000));
              if(btn3 == 2) {
              total = total + (won * 6/1000);
              total = Math.round(total);
            }
            }
            if(btn2 == 2) {
              if (won <= 600000000) {
              total = (won * (1/100)) + (won * 1/1000);
              total = Math.round(total);
            }
            else if ((won > 600000000) && (won <= 900000000)) {
              total = ((won/100000000) * 2 / 3 -3);
              total = Math.round(total * 100) / 100;
              total = total + total * (1/10);
              total = (won * total) * (1/100);
              total = Math.round(total);
              
              
            }
            else if (won > 900000000) {
              total = (won * (3/100)) + (won * 3/1000);
              total = Math.round(total);
            }
            if(btn3 == 2) {
              total = total + (won * 2/1000);
            }
            }
          case 3:
            if (btn2 == 1) {
              total = (won * (12/100)) + (won * (4/1000));
              if(btn3 == 2) {
              total = total + (won * 1/100);
            }
            }
            if(btn2 == 2) {
              total = (won * (8/100)) + (won * (4/1000));
              if(btn3 == 2) {
              total = total + (won * 6/1000);
            }
            }
            total = Math.round(total);

          case 4:
            total = (won * (12/100)) + (won * (4/1000));
            if(btn3 == 2) {
              if(btn2 == 1) {
                total = total + (won * 1/100);
              }
              if(btn2 == 2) {
                total = total + (won * 6/1000);
              }
            }
            total = Math.round(total);
        }
        document.querySelector("#totalResult").innerText = total;
        document.querySelector('#showResult').style.display = 'block'; // 상세 설명 부분을 화면에 표시
        document.querySelector('#totalResult').style.display = 'block'; // 상세 설명 부분을 화면에 표시
      }




      
      function print() {
        var name = document.getElementById('name').value;
        document.getElementById('result').innerText = name;
      }
      
    </script>
  </body>
</html>
